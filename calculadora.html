<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Ahorro con IA</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
    }
    .container {
      background-color: rgba(0, 0, 0, 0.4);
      padding: 2em;
      max-width: 600px;
      margin: 5em auto;
      border-radius: 20px;
      backdrop-filter: blur(6px);
    }
    label {
      font-size: 1.3em;
      font-weight: bold;
      color: #fff;
    }
    select, button {
      width: 100%;
      padding: 1em;
      margin-top: 1em;
      font-size: 1em;
      border-radius: 10px;
      border: none;
      background-color: rgba(255, 255, 255, 0.15);
      color: white;
      font-weight: bold;
      backdrop-filter: blur(8px);
    }
    select option {
      color: black;
      background-color: white;
    }
    button:hover {
      background-color: rgba(255, 255, 255, 0.3);
      cursor: pointer;
    }
    #resultado, #perfil {
      margin-top: 1em;
      padding: 1em;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <label for="tarea">Selecciona una o más tareas:</label>
    <select id="tarea" multiple onchange="calcularAhorro()">
      <option value="300,60,Comunicador">Responder correos electrónicos</option>
      <option value="90,80,Comunicador">Agendar reuniones</option>
      <option value="180,70,Investigador">Buscar información</option>
      <option value="180,65,Analítico">Redactar documentos</option>
      <option value="60,90,Investigador">Transcribir reuniones</option>
      <option value="160,50,Productivo">Seguimiento de proyectos</option>
      <option value="250,75,Comunicador">Atención al cliente</option>
      <option value="120,50,Productivo">Edición de contenido</option>
      <option value="135,60,Comunicador">Publicaciones en RRSS</option>
      <option value="120,55,Analítico">Análisis de datos</option>
    </select>

    <div id="resultado"></div>
    <div id="perfil"></div>

    <button onclick="exportarPDF()">Exportar Resultado como PDF</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let ahorroTotal = 0;
    let perfiles = [];

    function calcularAhorro() {
      const selector = document.getElementById("tarea");
      const resultado = document.getElementById("resultado");
      const perfil = document.getElementById("perfil");
      const selectedOptions = Array.from(selector.selectedOptions);

      ahorroTotal = 0;
      perfiles = [];

      if (selectedOptions.length === 0) {
        resultado.innerHTML = "";
        perfil.innerHTML = "";
        return;
      }

      let resumen = "";
      selectedOptions.forEach(opt => {
        const [minutos, porcentaje, perfilTipo] = opt.value.split(",");
        const ahorro = (parseInt(minutos) * parseInt(porcentaje)) / 100;
        const ahorro2anios = ahorro * 52 * 2;
        ahorroTotal += ahorro2anios;
        perfiles.push(perfilTipo);
        resumen += `<li>${opt.text}: <strong>${ahorro} min/sem</strong>, <strong>${ahorro2anios} min/2 años</strong></li>`;
      });

      resultado.innerHTML = `
        <strong>Ahorro estimado:</strong>
        <ul>${resumen}</ul>
        <p><strong>Total estimado en 2 años:</strong> ${ahorroTotal} minutos</p>
      `;

      // Sugerencias por perfil
      let desarrollo = {
        "Analítico": "Cursos en Power BI, Excel avanzado, automatización.",
        "Comunicador": "Storytelling, persuasión, liderazgo de equipos.",
        "Productivo": "Notion, metodologías ágiles, gestión personal.",
        "Investigador": "Lectura crítica, síntesis, herramientas de búsqueda."
      };

      // Mostrar perfiles únicos
      const perfilesUnicos = [...new Set(perfiles)];
      let sugerencias = perfilesUnicos.map(p => `<strong>${p}</strong>: ${desarrollo[p]}`).join("<br>");

      perfil.innerHTML = `
        <strong>Perfiles Detectados:</strong> ${perfilesUnicos.join(", ")}<br><br>
        <strong>Sugerencias:</strong><br>${sugerencias}
      `;
    }

    async function exportarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      doc.setFontSize(16);
      doc.text("Resumen de Ahorro con IA", 20, 20);
      doc.setFontSize(12);
      doc.text(`Perfiles detectados: ${[...new Set(perfiles)].join(", ")}`, 20, 30);
      doc.text(`Ahorro estimado a 2 años: ${ahorroTotal} minutos`, 20, 40);

      doc.save("resumen_ahorro_IA.pdf");
    }
  </script>
</body>
</html>


